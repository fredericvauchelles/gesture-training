import { Palette, StyleMetrics, VerticalBox, HorizontalBox, ListView } from "std-widgets.slint";
import { RadioBox, Label, Icons, CustomPalette, Button } from "../widgets/widgets.slint";

component MainMenuForm inherits VerticalBox {
    callback show-add-folder <=> button_add_folder.clicked;

    VerticalBox {
        spacing: 0;

        Rectangle {
            height: CustomPalette.preferred-field-height;
            background: Palette.control-background;
            border-top-left-radius: CustomPalette.border;
            border-top-right-radius: CustomPalette.border;
            border-width: CustomPalette.border-width;
            border-color: Palette.background;

            Text {
                text: "Image sources";
            }
        }
        list := ListView { 
        }
        HorizontalBox {
            spacing: 0;
            padding: 0;

            Rectangle {
                width: CustomPalette.preferred-field-label-width;
                background: Palette.control-background;
                border-width: CustomPalette.border-width;
                border-bottom-left-radius: CustomPalette.border;
                border-color: Palette.background;
    
                Text {
                    width: 100%;
                    x: CustomPalette.border * 2;
                    horizontal-alignment: left;
                    text: "Add Images";
                }
            }

            button_add_folder := Button {
                border-radius: 0;

                icon: Icons.folder;
                colorize-icon: true;
                height: CustomPalette.preferred-field-height;
            }
            button_add_zip := Button {
                border-top-left-radius: 0;
                border-top-right-radius: 0;
                border-bottom-left-radius: 0;

                icon: Icons.zip-file;
                colorize-icon: true;
                height: CustomPalette.preferred-field-height;
            }
        }
        
    }
    
    VerticalBox {
        spacing: 0;

        HorizontalBox {
            spacing: 0;
            padding: 0;
    
            Rectangle {
                width: CustomPalette.preferred-field-label-width;
                background: Palette.control-background;
                border-width: CustomPalette.border-width;
                border-top-left-radius: CustomPalette.border;
                border-color: Palette.background;
    
                Text {
                    width: 100%;
                    x: CustomPalette.border * 2;
                    horizontal-alignment: left;
                    text: "Images";
                }
            }
            RadioBox {
                border-top-right: true;
                height: CustomPalette.preferred-field-height;
                selected-value: 5;
                datas: [
                    {value: 5, display: "5"},
                    {value: 10, display: "10"},
                    {value: 15, display: "15"},
                    {value: 20, display: "20"},
                    {value: 25, display: "25"},
                ];
            }
        }
        HorizontalBox {
            spacing: 0;
            padding: 0;
    
            Rectangle {
                width: CustomPalette.preferred-field-label-width;
                background: Palette.control-background;
                border-width: CustomPalette.border-width;
                border-bottom-left-radius: CustomPalette.border;
                border-color: Palette.background;
    
                Text {
                    width: 100%;
                    x: CustomPalette.border * 2;
                    horizontal-alignment: left;
                    text: "Duration";
                }
            }
            RadioBox {
                border-bottom-right: true;
                height: CustomPalette.preferred-field-height;
                selected-value: 30;
                datas: [
                    {value: 30, display: "30''"},
                    {value: 60, display: "1'"},
                    {value: 120, display: "2'"},
                    {value: 180, display: "3'"}, 
                    {value: 300, display: "5'"}, 
                    {value: 600, display: "10'"}, 
                    {value: 1200, display: "20'"}, 
                ]; 
            }
        }
    }
    
    HorizontalBox {
        height: CustomPalette.preferred-field-height;

        Button {
            text: "Start";
        }
    }
}

export component MainMenu inherits Rectangle {
    callback show-add-folder <=> form.show-add-folder;

    HorizontalBox {
        alignment: center;
        Rectangle {
            max-width: CustomPalette.preferred-form-width;
            preferred-width: CustomPalette.preferred-form-width;

            VerticalBox {
                alignment: center;
                Rectangle {
    
                    VerticalBox {
                        form := MainMenuForm{}
                    }
                }
            }
        }
    }
}